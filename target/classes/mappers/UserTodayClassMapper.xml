<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.flatform.api.model.dao.UserClassDAO"> <!-- namespace를 통해 Dao와 연결 -->
    <select id="getTodayClass" parameterType="hashmap" resultType="com.flatform.api.model.dto.UserClassDTO">
        <!--sqlxmlid 메서드 호출 시 실행할 SQL구문 여기에 작성, OOODTO객체를 parameter로 받아 sql 처리 후 OOODTO객체를 반환-->
        <![CDATA[
            select 42flatform_db.class.class_id, 42flatform_db.category.category_name, 42flatform_db.class.class_name, 42flatform_db.class.class_s_time, 42flatform_db.class.class_e_time
            from 42flatform_db.class, 42flatform_db.category
            where 42flatform_db.class.class_id in
            (SELECT class_id FROM 42flatform_db.signup where member_id = #{userId})
            and 42flatform_db.class.class_day = #{date}
            and 42flatform_db.class.category_id = 42flatform_db.category.category_id;
        ]]>

    </select>
</mapper>